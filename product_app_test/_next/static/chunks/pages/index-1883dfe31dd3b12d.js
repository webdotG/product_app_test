(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6760:(t,e,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9306)}])},8106:(t,e,r)=>{"use strict";r.d(e,{v:()=>i});var o=r(4232);let c=t=>{let e;let r=new Set,o=(t,o)=>{let c="function"==typeof t?t(e):t;if(!Object.is(c,e)){let t=e;e=(null!=o?o:"object"!=typeof c||null===c)?c:Object.assign({},e,c),r.forEach(r=>r(e,t))}},c=()=>e,s={setState:o,getState:c,getInitialState:()=>a,subscribe:t=>(r.add(t),()=>r.delete(t))},a=e=t(o,c,s);return s},s=t=>t?c(t):c,a=t=>t,d=t=>{let e=s(t),r=t=>(function(t,e=a){let r=o.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return o.useDebugValue(r),r})(e,t);return Object.assign(r,e),r},i=t=>t?d(t):d},9099:(t,e,r)=>{t.exports=r(8253)},9306:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var o=r(4232),c=r(9099),s=r(9867);function a(){let t=(0,c.useRouter)(),{fetchProducts:e}=(0,s.K)();return(0,o.useEffect)(()=>{e(),t.push("/products")},[e,t]),null}},9867:(t,e,r)=>{"use strict";r.d(e,{K:()=>o});let o=(0,r(8106).v)(t=>({products:[],loading:!1,error:null,fetchProducts:async()=>{t({loading:!0,error:null});try{let e=await fetch("https://fakestoreapi.com/products");if(!e.ok)throw Error("Failed to fetch products");let r=await e.json();t({products:r.map(t=>({...t,liked:!1})),loading:!1})}catch(e){t({error:e instanceof Error?e.message:"Unknown error",loading:!1})}},toggleLike:e=>t(t=>({products:t.products.map(t=>t.id===e?{...t,liked:!t.liked}:t)})),deleteProduct:async e=>{try{await fetch("https://fakestoreapi.com/products/".concat(e),{method:"DELETE"}),t(t=>({products:t.products.filter(t=>t.id!==e)}))}catch(t){console.error("Failed to delete product:",t)}},addProduct:async e=>{try{let r=await fetch("https://fakestoreapi.com/products",{method:"POST",body:JSON.stringify(e)}),o=await r.json();t(t=>({products:[...t.products,{...o,liked:!1}]}))}catch(t){console.error("Failed to add product:",t)}},editProduct:async(e,r)=>{try{let o=await fetch("https://fakestoreapi.com/products/".concat(e),{method:"PUT",body:JSON.stringify(r)}),c=await o.json();t(t=>({products:t.products.map(t=>t.id===e?{...t,...c}:t)}))}catch(t){console.error("Failed to edit product:",t)}}}))}},t=>{var e=e=>t(t.s=e);t.O(0,[636,593,792],()=>e(6760)),_N_E=t.O()}]);